---
title: "P8105_hw2_gl2677"
author: "Gaotong LIU"
date: "9/26/2019"
output: github_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(readxl)
library(ggrepel)
```

## Problem 0
#### Read and clean the Mr. Trash Wheel sheet
```{r}
mr_trash_wheel = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
             sheet = "Mr. Trash Wheel",
             range = "A2:N338") %>% 
  janitor::clean_names() %>%
  drop_na(dumpster) %>% 
  mutate(sports_balls = round(sports_balls, digits = 0),
         sports_balls = as.integer(sports_balls)) 

```

#### Read and clean precipitation data for 2017 and 2018
```{r}
prec_2017 = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
             sheet = "2017 Precipitation",
             range = "A2:B14") %>% 
  janitor::clean_names() %>%
  mutate(year = "2017",
         month = month.name) %>% 
  drop_na() 

prec_2018 = 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",
             sheet = "2018 Precipitation",
             range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  mutate(year = "2018",
         month = month.name) %>% 
  drop_na() 

#Join 2017 and 2018 percipitation
prec_2017_2018 = bind_rows(prec_2017 , prec_2018) 
```

#### Interpretation
There are `r nrow(mr_trash_wheel)` observations and `r ncol(mr_trash_wheel)` variables in `mr_trash_wheel` dataset. 
The key variables are `r colnames(mr_trash_wheel[5:14])`. 
The median number of sports balls in a dumpster in 2017 was `r median(pull(filter(mr_trash_wheel, year == "2017"), sports_balls))`.

There are `r nrow(prec_2017_2018)` observations and `r ncol(prec_2017_2018)` variables in `prec_2017_2018` dataset. 
The key variables are `r colnames(prec_2017_2018[2])`. 
The total precipitation in 2018 was `r sum(pull(filter(prec_2017_2018, year == "2018"), total))`.

## Problem 2
#### Read and clean pols_month data
```{r , message=FALSE}
pols_month = 
  read_csv("./data/pols-month.csv") %>% 
  separate(mon, into = c("year","month","day"), sep = "-") %>% 
  mutate(year = as.numeric(year),
         month = as.numeric(month),
         month = month.name[month],
         president = factor(prez_gop, 
                            levels = c("gop"  = 0, "dem" = 1),
                            labels = c("gop","dem"))) %>% 
  select(-day, -prez_gop, -prez_dem)
```
